@inject BlazorWebAppLakeOfKnowledge04012025.Services.ApiService ApiService
@using projectPsychometricAgamLakeOfKnowladgeAPI04012025.Classes

@using BlazorWebAppLakeOfKnowledge04012025.Services
@inject UserService UserService


@inject NavigationManager NavigationManager
@inject BlazorWebAppLakeOfKnowledge04012025.Services.UserService UserService
@inject BlazorWebAppLakeOfKnowledge04012025.Services.UserService UserService
@inject NavigationManager NavigationManager

<div class="sidebar-container">
    <div class="sidebar">
        @if (UserService.role == UserRole.Guest)
        {
            <nav class="nav-menu">
                <ul class="nav-list">
                    <li><NavLink class="nav-item" href="/">🏠 דף הבית</NavLink></li>
                    <li><NavLink class="nav-item" href="/register-choose">📝 הרשמה</NavLink></li>
                    <li><NavLink class="nav-item" href="/login-choose">🔑 התחברות</NavLink></li>
                    <li><NavLink class="nav-item" href="/reviews-display">📃 צפייה בביקורות</NavLink></li>
                </ul>
            </nav>
        }
        else if (UserService.role == UserRole.Admin)
        {
            <nav class="nav-menu">
                <ul class="nav-list">
                    <li><NavLink class="nav-item" href="/admin-main-page">🏠 דף ראשי - מנהל</NavLink></li>
                    <li><NavLink class="nav-item" href="/admin-users-management">👤 ניהול משתמשים</NavLink></li>
                    <li><NavLink class="nav-item" href="/admin-content-managment">📝 ניהול תוכן</NavLink></li>
                    <li><NavLink class="nav-item" href="/admin-data-analysis">📊 צפייה בניתוח נתונים</NavLink></li>
                    <li><NavLink class="nav-item" href="/admin-reviews-manager">🗂️ ניהול ביקורות</NavLink></li>
                    <li><NavLink class="nav-item logout-btn" href="/" @onclick="Logout">🚪 התנתק</NavLink></li>
                </ul>
            </nav>
        }
        else if (UserService.role == UserRole.Guide)
        {
            <nav class="nav-menu">
                <ul class="nav-list">
                    <li><NavLink class="nav-item" href="/guide-main-page">🏠 דף ראשי - מדריך</NavLink></li>
                    <li><NavLink class="nav-item" href="/guide-show-questions">❓ הצגת שאלות</NavLink></li>
                    <li><NavLink class="nav-item" href="/guide-show-exams">📜 הצגת מבחנים</NavLink></li>
                    <li><NavLink class="nav-item" href="/guide-update-questions">📝 הצגת שאלות ותשובות</NavLink></li>
                    <li><NavLink class="nav-item logout-btn" href="/" @onclick="Logout">🚪 התנתק</NavLink></li>
                </ul>
            </nav>
        }
        else if (UserService.role == UserRole.Student)
        {
            <nav class="nav-menu">
                <ul class="nav-list">
                    <li><NavLink class="nav-item" href="/student-main-page">🏠 דף ראשי - סטודנט</NavLink></li>
                    <li><NavLink class="nav-item" href="/student-practice">📖 תרגול מותאם אישית</NavLink></li>
                    <li><NavLink class="nav-item" href="/student-exam">📝 תרגול מבחנים מלאים</NavLink></li>
                    <li><NavLink class="nav-item" href="/student-add-review">💬 הוסף ביקורת</NavLink></li>
                    <li><NavLink class="nav-item logout-btn" href="/" @onclick="Logout">🚪 התנתק</NavLink></li>
                </ul>
            </nav>
        }
    </div>
</div>

@code {
    void Logout()
    {
        UserService.ClearUser(); // Reset user role to Guest
        NavigationManager.NavigateTo("/"); // Redirect to home page
    }
}

